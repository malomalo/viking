<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><meta name="color-scheme" content="dark light"><title>Association.HasManyAssociation</title><link rel="stylesheet" href="/stylesheets/jsdoc-press.css" /><link rel="stylesheet" href="stylesheets/jsdoc.css" /></head><body><input type="checkbox" id="sm-nav-trigger" class="sm-nav-trigger" /><nav><a class="brand" href="./index.html"><img src="images/logo.png"/></a><div class="nav-group"><div class="nav-kinds">Classes</div><ul class="nav-tree"><li><a class="nav-item " href="application.html"><span class="icon-kind kind-class">C</span>
        
        Application
    </a></li><li><a class="nav-item " href="association.html"><span class="icon-kind kind-class">C</span>
        
        Association
    </a><div class="nav-children-wrap"><details class="nav-detail" open><summary class="nav-subkind">Instance Properties</summary><ul class="nav-children"><li><a class="nav-item " href="association.html#symbol-association-bindedobjects"><span class="icon-kind kind-member">P</span>
        
        bindedObjects
    </a></li><li><a class="nav-item " href="association.html#symbol-association-dirty"><span class="icon-kind kind-member">P</span>
        
        dirty
    </a></li><li><a class="nav-item " href="association.html#symbol-association-eventlisteners"><span class="icon-kind kind-member">P</span>
        
        eventListeners
    </a></li><li><a class="nav-item " href="association.html#symbol-association-iscollection"><span class="icon-kind kind-member">P</span>
        
        isCollection
    </a></li><li><a class="nav-item " href="association.html#symbol-association-listenerid"><span class="icon-kind kind-member">P</span>
        
        listenerId
    </a></li><li><a class="nav-item " href="association.html#symbol-association-loaded"><span class="icon-kind kind-member">P</span>
        
        loaded
    </a></li><li><a class="nav-item " href="association.html#symbol-association-owner"><span class="icon-kind kind-member">P</span>
        
        owner
    </a></li><li><a class="nav-item " href="association.html#symbol-association-reflection"><span class="icon-kind kind-member">P</span>
        
        reflection
    </a></li><li><a class="nav-item " href="association.html#symbol-association-target"><span class="icon-kind kind-member">P</span>
        
        target
    </a></li></ul></details><details class="nav-detail" open><summary class="nav-subkind">Instance Methods</summary><ul class="nav-children"><li><a class="nav-item " href="association.html#symbol-association-add"><span class="icon-kind kind-function">F</span>
        
        add
    </a></li><li><a class="nav-item " href="association.html#symbol-association-addbang"><span class="icon-kind kind-function">F</span>
        
        addBang
    </a></li><li><a class="nav-item " href="association.html#symbol-association-addeventlistener"><span class="icon-kind kind-function">F</span>
        
        addEventListener
    </a></li><li><a class="nav-item " href="association.html#symbol-association-addeventlistenerfor"><span class="icon-kind kind-function">F</span>
        
        addEventListenerFor
    </a></li><li><a class="nav-item " href="association.html#symbol-association-clone"><span class="icon-kind kind-function">F</span>
        
        clone
    </a></li><li><a class="nav-item " href="association.html#symbol-association-dispatchevent"><span class="icon-kind kind-function">F</span>
        
        dispatchEvent
    </a></li><li><a class="nav-item " href="association.html#symbol-association-instantiate"><span class="icon-kind kind-function">F</span>
        
        instantiate
    </a></li><li><a class="nav-item " href="association.html#symbol-association-needssaved"><span class="icon-kind kind-function">F</span>
        
        needsSaved
    </a></li><li><a class="nav-item " href="association.html#symbol-association-reload"><span class="icon-kind kind-function">F</span>
        
        reload
    </a></li><li><a class="nav-item " href="association.html#symbol-association-remove"><span class="icon-kind kind-function">F</span>
        
        remove
    </a></li><li><a class="nav-item " href="association.html#symbol-association-removebang"><span class="icon-kind kind-function">F</span>
        
        removeBang
    </a></li><li><a class="nav-item " href="association.html#symbol-association-removeeventlistener"><span class="icon-kind kind-function">F</span>
        
        removeEventListener
    </a></li><li><a class="nav-item " href="association.html#symbol-association-removeeventlistenerfor"><span class="icon-kind kind-function">F</span>
        
        removeEventListenerFor
    </a></li><li><a class="nav-item " href="association.html#symbol-association-sendresourcerequest"><span class="icon-kind kind-function">F</span>
        
        sendResourceRequest
    </a></li><li><a class="nav-item " href="association.html#symbol-association-setattributes"><span class="icon-kind kind-function">F</span>
        
        setAttributes
    </a></li></ul></details><details class="nav-detail" open><summary class="nav-subkind">Classes</summary><ul class="nav-children"><li><a class="nav-item active" href="association.hasmanyassociation.html"><span class="icon-kind kind-class">C</span>
        
        HasManyAssociation
    </a><div class="nav-children-wrap"><details class="nav-detail" open><summary class="nav-subkind">Instance Methods</summary><ul class="nav-children"><li><a class="nav-item " href="association.hasmanyassociation.html#symbol-hasmanyassociation-scope"><span class="icon-kind kind-function">F</span>
        
        scope
    </a></li></ul></details></div></li></ul></details></div></li><li><a class="nav-item " href="controller.html"><span class="icon-kind kind-class">C</span>
        
        Controller
    </a></li><li><a class="nav-item " href="eventbus.html"><span class="icon-kind kind-class">C</span>
        
        EventBus
    </a></li><li><a class="nav-item " href="record.html"><span class="icon-kind kind-class">C</span>
        
        Record
    </a></li><li><a class="nav-item " href="relation.html"><span class="icon-kind kind-class">C</span>
        
        Relation
    </a></li><li><a class="nav-item " href="router.html"><span class="icon-kind kind-class">C</span>
        
        Router
    </a></li><li><a class="nav-item " href="view.html"><span class="icon-kind kind-class">C</span>
        
        View
    </a></li></ul></div><div class="nav-group"><div class="nav-kinds">Modules</div><ul class="nav-tree"><li><a class="nav-item " href="module-support.html"><span class="icon-kind kind-module">M</span>
        
        Support
    </a></li></ul></div></nav><main class="content"><article class="doc"><header><div class="kind kind-color kind-class"><span class="icon-kind icon-kind-class">C</span>
            
            class
        </div><h1>
            Association.HasManyAssociation
        </h1></header><section class="description"><p>Manages a one-to-many relationship for a record.</p><p>Created via a model's <code>hasMany</code> reflection, this association holds a
collection of target records and provides lazy loading, mutation helpers,
and query delegation. It derives foreign-key constraints from the owner and
optionally supports polymorphic relationships via <code>options.as</code>.</p><ul><li>Collection: true (multiple target records)</li><li>Persistence: <code>addBang</code>/<code>removeBang</code> hit nested resource routes</li><li>Loading: <code>load()</code> fetches once and caches until <code>reload()</code></li><li>Query: delegates to a scoped <code>Relation</code> (<code>where</code>, <code>order</code>, <code>limit</code>,
<code>first</code>, <code>last</code>, <code>toArray</code>)</li></ul><p>Events dispatched mirror <code>Association</code>/<code>CollectionAssociation</code> semantics:
<code>beforeAdd</code>, <code>afterAdd</code>, <code>beforeRemove</code>, <code>afterRemove</code>, <code>beforeLoad</code>,
<code>afterLoad</code>, plus <code>invalid</code>/<code>error</code> when persisting via bang methods.</p></section><section><h2>Constructor</h2><div class="symbol-title">
            <code>
<span class="signature"><span class="signature-prefix">new </span><span class="signature-name">HasManyAssociation</span><span class="signature-punctuation">(</span><span class="signature-punctuation">)</span></span>
</code></div></section><section><h2>Examples</h2><pre class="overflow-container code-block"><code class="hljs language-scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Post</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Record</span> </span>{ static hasMany(&#x27;comments&#x27;); }
const post = <span class="hljs-type">Post</span>.instantiate({ id: <span class="hljs-number">1</span> });
await post.comments.load();
const comment = <span class="hljs-type">Comment</span>.instantiate({ body: &#x27;<span class="hljs-type">Nice</span>!&#x27; });
await post.comments.addBang(comment);</code></pre></section><section id="section-instance_methods"><h2 class="section-title kind-instance_method">Instance Methods</h2><div class="symbol-summary instance_methods" id="symbol-hasmanyassociation-scope"><div class="symbol-summary-title"><span class="icon-kind kind-function">F</span>
        &nbsp;
    
    <a href="association.hasmanyassociation.html#symbol-hasmanyassociation-scope"><code>
<span class="signature"><span class="signature-name">scope</span><span class="signature-punctuation">(</span><span class="signature-punctuation">)</span>
    
    
    
        &rarr;
        
            <span class="signature-returns">
                
                    Relation
                    
                
            </span></span>
</code></a></div><section class="description"><p>Builds the scoped relation for this association.</p><p>Applies the foreign key (and, if polymorphic via <code>options.as</code>, the
foreign type) constraint pointing back to the owner record. Any custom
<code>scope</code> defined on the reflection is composed on top of this base
constraint.</p></section><section><h2>Returns</h2><div>
                
                    <code class="clear">
                        
                            <a href="relation.html">Relation</a>
                            
                        
                    </code><div class="symbol-description"><p>A relation constrained to this association</p></div></div></section></div></section></article></main><div class="sm-nav"><a href="index.html"><img src="images/logo.png" height="24px"/></a><label for="sm-nav-trigger" class="sm-nav-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></label></div><script src="/javascripts/jsdoc-press.js"></script></body></html>
